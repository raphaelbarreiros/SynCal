# Status
Draft

# Story
As a self-hosting administrator reviewing SynCal docs,
I want all references to the encryption secret to use the same `ENCRYPTION_KEY` name,
so that setup, security reviews, and runbooks stay consistent with the implemented configuration helpers.

# Acceptance Criteria
1. Every repo document referencing `ENCRYPTION_MASTER_KEY` is updated (or clarified) to `ENCRYPTION_KEY`, including:
   - `docs/architecture/code-review-guidelines.md`
   - `docs/architecture/ops-runbook.md`
   - `docs/prd/roles-and-responsibilities.md`
   - `docs/prd/provider-credentials-setup.md`
   - `docs/prd/epic-2-connector-configuration-validation.md`
2. Updated docs explicitly note the base64 requirement and tie back to the shared config helper expectations.
3. A final repository-wide search confirms no stray `ENCRYPTION_MASTER_KEY` usages remain (excluding change logs/history where appropriate).

# Tasks / Subtasks
- [ ] Update architecture docs (AC 1, 2)
  - [ ] Revise `docs/architecture/code-review-guidelines.md` to reference `ENCRYPTION_KEY` in security checks.
  - [ ] Adjust `docs/architecture/ops-runbook.md` secrets rotation/troubleshooting steps to match the new env name and validation behavior.

- [ ] Update PRD documentation (AC 1, 2)
  - [ ] Refresh `docs/prd/roles-and-responsibilities.md` so ownership tables and responsibilities cite `ENCRYPTION_KEY`.
  - [ ] Align `docs/prd/provider-credentials-setup.md` guidance and snippets (env blocks, connector notes) with `ENCRYPTION_KEY`.
  - [ ] Update `docs/prd/epic-2-connector-configuration-validation.md` technical guidance to reference the correct key name and base64 requirement.

- [ ] Consistency validation (AC 3)
  - [ ] Run `rg "ENCRYPTION_MASTER_KEY"` (or equivalent) to ensure no lingering references remain outside approved historical sections.
  - [ ] Note results in Completion Notes, capturing the command used.

# Dev Notes
- Existing configuration helpers (`packages/config`) and `.env.example` already use `ENCRYPTION_KEY`; this story only updates documentation artifacts.
- Keep historical change logs intact; if quoting prior behavior, add clarifying text instead of rewriting history.
- Ensure any doc screenshots or code samples that include env snippets are updated if present (none identified yet; confirm while editing).
- Coordinate with QA to re-verify `docs/stories/1.1.bootstrap-project-docker-stack.md` QA notes once sweep completes.

## Testing
- Documentation lint/format (if applicable).
- Manual validation: repository search showing zero `ENCRYPTION_MASTER_KEY` hits in active docs.

# Change Log
| Date       | Version | Description               | Author       |
|------------|---------|---------------------------|--------------|
| 2025-09-18 | v0.1    | Initial draft (Doc sweep) | Product Owner |

# Dev Agent Record
## Agent Model Used

## Debug Log References

## Completion Notes List

## File List

# QA Results

